<html>
<head>
    <link rel="stylesheet" type="text/css" href="bubu.css">

    <title>
        The structure of the enigma machine 
    </title>
</head>
<body>
    <h1>The structure of the enigma machine</h1>
    <p dir="rtl">האניגמה משלבת מערכות חשמליות ומכניות. המנגנון המכני מורכב ממקלדת המכילה את אותיות האלפבית, מאוסף של דסקות מסתובבות ("רוטורים") המסודרות זו לצד זו על ציר וכן ממנגנון פסיעה שמסובב רוטור אחד או יותר בכל פעם שנלחץ מקש. המנגנון שונה בגרסאות השונות של המכונה, אולם במנגנון השכיח ביותר, פוסע הרוטור הימני פעם אחת לאחר כל הקשת מקש. הדבר גורר לעיתים גם תזוזה של רוטורים סמוכים. התנועה המתמשכת של הרוטורים גוררת התמרה שונה לאחר כל הקשת מקש.

החלקים המכניים יוצרים מעגל חשמלי, ובפועל מבוצע הקידוד של כל אות באופן חשמלי. כאשר נלחץ אחד המקשים, המעגל נסגר; זרם חשמלי זורם דרך רכיבים שונים, ולבסוף מאירה אחת מ-26 הנורות, המורה על אות הפלט. באיור משמאל מומחשת פעולת הערבול של הרוטורים של האניגמה, עבור שתי הקשות עוקבות. הזרם עובר דרך מספר רוטורים, דרך המשקף, ושוב חזרה דרך הרוטורים.

הקווים האפורים מייצגים מעגלים אפשריים אחרים בתוך כל רוטור. המעגלים מחוברים למגעים שנמצאים בצדי כל רוטור. האות A מוצפנת באופן שונה עם כל לחיצה עוקבת של מקש, קודם לאות G (למשל) ואחר כך לאות C. הסיבה לכך היא שהרוטור הימני, שזז פסיעה אחת בכל הקשה, שולח את האות דרך מסלול שונה לחלוטין.

לדוגמה, כאשר מקודדים הודעה המתחילה ב-ANX..., המפעיל לוחץ קודם על מקש A, ואז עשויה הנורה Z להיות מוארת; Z תהיה האות הראשונה של ההודעה המוצפנת. המפעיל ימשיך על מנת להצפין את N באותו אופן, וכך הלאה.

דיאגרמת החיווט שמשמאל מסבירה את אופן פעולת האניגמה. על מנת לפשט את הדוגמה נדון רק בארבע אותיות. במציאות יש 26 נוריות, 26 מפתחות, 26 תקעים ובתוך כל רוטור - 26 חיווטים. הזרם זורם מהמצבר (1) דרך מתג אותיות דו כיווני הנמצא במצב לחוץ (2) אל לוח התקעים (3). לוח התקעים מאפשר חיווט מחדש של החיבורים בין לוח המקשים (2) וגלגל האתחול הקבוע (4). לאחר מכן ממשיך הזרם דרך תקע (3) ואז דרך גלגל האתחול (4), עובר דרך שלושה רוטורים (בגרסת הוורמאכט) או ארבעה (בגרסת הצי) (5) ומשם נכנס למשקף (6). המשקף מחזיר את הזרם בנתיב שונה, חזרה דרך הרוטורים (5) ודרך גלגל האתחול (4). הזרם ממשיך דרך תקע "S" המחובר (בדוגמה זו) באמצעות כבל (8) לתקע "D", ומשם לעוד מתג דו כיווני (9). כתוצאה מכך נדלקת הנורה. בדוגמה זו, צירוף רוטורים מסוימים בעמדות מסוימות הפך את האות "A" ל-"S", וזו הוחלפה ל-"D", שהיא הפלט המוצפן.

סיבוב הרוטורים גורם למגעי הפינים להשתנות עם כל אות חדשה שמוקלדת, וכתוצאה נגרמים שינויים תכופים בנתיבים החשמליים של האות. כך מממשת האניגמה צופן פוליאלפביתי, שיוצר רמת אבטחה גבוהה יחסית לתקופה המדוברת.

פענוח ההודעות המוצפנות התבצע באמצעות הקלדתן במכונה זהה. מכיוון שמסלול הזרם הוא הפיך, הרי אם במערך רוטורים מסוים הקלדת האות A הצפינה אותה ל-G, אזי הקלדת האות G תיתן בחזרה את האות A, וכך לגבי האותיות הבאות. לכן כל שנדרש לפענוח הוא המסר המוצפן ומכונה זהה (אותם הרוטורים והמשקף, ובאותו מצב ראשוני). אם אות מסוימת לא נקלטה נכון, הרי שפענוחה ייתן אות אחת שגויה, אבל שאר האותיות יפוענחו נכון, כי מצב הרוטורים זה ביחס לזה יישמר. איבוד של אות (לדוגמה, קליטה של ABCEFG במקום ABCDEFG) יגרום לכל האותיות החל מהאות שאבדה להיות שגויות, וכך במקרים רבים ניתן יהיה לזהות את העובדה שאות אחת חסרה, להקליד אות כלשהי במקומה, כדי להחזיר את הרוטורים למצבם הנכון, ולפענח את שאר המסר (למעט אות אחת לא ידועה).

עוצמתה של האניגמה הייתה בכך שאף אם נפלו מכונות בידי האויב, כך שנודע לו חיווט הרוטורים והמשקף, היה קשה מאוד לפענח את ההודעה ללא ידיעת מצבה הראשוני של המכונה, כלומר סידור הרוטורים זה מול זה בתחילת המסר, וסידור לוח התקעים (ראו בהמשך) - ואלה השתנו מדי יום, על פי ספרי צופן שהוכנו מראש.</p>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Enigma_wiring_kleur.svg/435px-Enigma_wiring_kleur.svg.png">
   <p> <a href="index.html">Homepage</a></p>
</body>
</html>